# This configmap contains the event sources configurations for Kafka gateway

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: mqtt-gateway-event-source
  labels:
    # do not remove
    argo-events-gateway-version: v0.10
data:
  # no retries if connection to kafka service is not successful
  example-without-retry: |-
    # url of your mqtt service
    url: tcp://mqtt.argo-events:1883
    # topic name
    topic: foo

  # retry after each backoff to setup successful connection
  example-with-retry: |-
    url: tcp://mqtt.argo-events:1883
    topic: bar
    backoff:
      # duration in nanoseconds. following value is 10 seconds
      duration: 10000000000
      # how many backoffs
      steps: 5
      # factor to increase on each step.
      # setting factor > 1 makes backoff exponential.
      factor: 2
